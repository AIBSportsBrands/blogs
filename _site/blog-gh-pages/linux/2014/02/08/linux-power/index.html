
<!doctype html>














<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/assets/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/assets/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/assets/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Linux,命令," />





  <link rel="alternate" href="/atom.xml" title="MORE技术分享" type="application/atom+xml" />



















<meta name="description" content="">
<meta name="keywords" content="Linux, 命令">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux权限管理">
<meta property="og:url" content="http://localhost:4000/blog-gh-pages/linux/2014/02/08/linux-power/">
<meta property="og:site_name" content="MORE技术分享">
<meta property="og:description" content="">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Linux权限管理">
<meta name="twitter:description" content="">


<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://localhost:4000/"/>





  <title>Linux权限管理 | MORE技术分享</title>
  
















</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"> <div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">MORE技术分享</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

<div id="posts" class="posts-expand">
  
  

  

  
  
  

  <article class="post post-type- " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://localhost:4000/blog-gh-pages/linux/2014/02/08/linux-power/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="MORE">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="assets/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MORE技术分享">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
          
          
            Linux权限管理
          
        </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2014-02-08T00:00:00+08:00">
                2014-02-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/category/#/blog-gh-pages" itemprop="url" rel="index">
                    <span itemprop="name">blog-gh-pages</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/category/#/Linux" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          
            
                <div class="post-description">
                    
                </div>
            
          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
  
  












  <ul id="markdown-toc">
  <li><a href="#chmod" id="markdown-toc-chmod"><code class="highlighter-rouge">chmod</code></a></li>
  <li><a href="#chgrp-" id="markdown-toc-chgrp-"><code class="highlighter-rouge">chgrp </code></a></li>
  <li><a href="#chown" id="markdown-toc-chown"><code class="highlighter-rouge">chown</code></a></li>
  <li><a href="#chattr" id="markdown-toc-chattr"><code class="highlighter-rouge">chattr</code></a></li>
  <li><a href="#lsattr" id="markdown-toc-lsattr"><code class="highlighter-rouge">lsattr</code></a></li>
  <li><a href="#umask" id="markdown-toc-umask"><code class="highlighter-rouge">umask</code></a></li>
  <li><a href="#文件特殊权限" id="markdown-toc-文件特殊权限">文件特殊权限</a></li>
</ul>

<h2 id="chmod"><code class="highlighter-rouge">chmod</code></h2>

<p><strong>改变权限</strong></p>

<p><em>数字法</em></p>

<p>root@www ~]#  <code class="highlighter-rouge">chmod [-R] xyz</code> 文件或目录</p>

<p>选项与参数：</p>

<p><code class="highlighter-rouge">xyz</code> : 就是刚刚提到的数字类型的权限属性，为 rwx 属性数值的相加。</p>

<p><code class="highlighter-rouge">-R</code> : 进行递归(recursive)的持续变更，亦即连同次目录下的所有文件都会变更</p>

<p><em>符号法</em></p>

<p>chmod</p>

<p>ugoa</p>

<p>+(加入) -(除去) =(设定)</p>

<p>rwx</p>

<p>文件或目录</p>

<blockquote>
  <p>例:</p>

  <p>[root@www ~]#  chmod  u=rwx,go=rx  .bashrc</p>

  <p>#  注意！那个 u=rwx,go=rx 是连在一起的，中间并没有任何空格！</p>
</blockquote>

<hr />

<h2 id="chgrp-"><code class="highlighter-rouge">chgrp </code></h2>

<p><strong>改变所属群组</strong></p>

<p>chgrp [root@www ~]#  <code class="highlighter-rouge">chgrp [-R] filename ...</code></p>

<p>选项与参数：</p>

<p><code class="highlighter-rouge">-R</code> : 进行递归(recursive)的持续变更，亦即连同次目录下的所有文件、目录 都更新成为这个群组之意。常常用在变更某一目录内所有的文件之情况。</p>

<hr />

<h2 id="chown"><code class="highlighter-rouge">chown</code></h2>

<p><strong>改变文件拥有者</strong></p>

<p>[root@www ~]#  <code class="highlighter-rouge">chown [-R]</code> 账号名称 文件或目录</p>

<p>[root@www ~]#  <code class="highlighter-rouge">chown [-R]</code> 账号名称:组名 文件或目录</p>

<p>选项与参数：</p>

<p><code class="highlighter-rouge">-R</code> : 进行递归(recursive)的持续变更，亦即连同次目录下的所有文件都变更</p>

<hr />

<h2 id="chattr"><code class="highlighter-rouge">chattr</code></h2>

<p><strong>配置文件隐藏属性</strong></p>

<p>[root@www ~]#  <code class="highlighter-rouge">chattr [+-=][ASacdistu]</code> 文件或目录名称</p>

<p>选项与参数：</p>

<p><code class="highlighter-rouge">+</code>   ：添加某一个特殊参数，其他原本存在参数则不动。</p>

<p><code class="highlighter-rouge">-</code>   ：移除某一个特殊参数，其他原本存在参数则不动。</p>

<p><code class="highlighter-rouge">=</code>   ：配置一定，且仅有后面接的参数</p>

<blockquote>
  <p><code class="highlighter-rouge">A</code>  ：当配置了 A 这个属性时，若你有存取此文件(或目录)时，他的存取时间 atime将不会被修改，可避免I/O较慢的机器过度的存取磁碟。这对速度较慢的计算机有帮助。</p>
</blockquote>

<p><code class="highlighter-rouge">S</code>  ：一般文件是非同步写入磁碟的(原理请参考第五章sync的说明)，如果加上 S 这个属性时，当你进行任何文件的修改，该更动会『同步』写入磁碟中。</p>

<p><code class="highlighter-rouge">a</code>  ：当配置 a 之后，这个文件将只能添加数据，而不能删除也不能修改数据，只有root才能配置这个属性。</p>

<p><code class="highlighter-rouge">c</code> ：这个属性配置之后，将会自动的将此文件『压缩』，在读取的时候将会自动解压缩，但是在储存的时候，将会先进行压缩后再储存(看来对於大文件似乎蛮有用的！)</p>

<p><code class="highlighter-rouge">d</code>  ：当 dump 程序被运行的时候，配置 d 属性将可使该文件(或目录)不会被 dump 备份</p>

<p><code class="highlighter-rouge">i</code>  ：这个 i 可就很厉害了！他可以让一个文件『不能被删除、改名、配置连结也无法写入或新增数据！』对於系统安全性有相当大的助益！只有 root 能配置此属性</p>

<p><code class="highlighter-rouge">s</code>  ：当文件配置了 s 属性时，如果这个文件被删除，他将会被完全的移除出这个硬盘空间，所以如果误删了，完全无法救回来了喔！</p>

<p><code class="highlighter-rouge">u</code>  ：与 s 相反的，当使用 u 来配置文件时，如果该文件被删除了，则数据内容其实还存在磁碟中，可以使用来救援该文件喔！</p>

<p>注意：属性配置常见的是 a 与 i 的配置值，而且很多配置值必须要身为 root 才能配置</p>

<hr />

<h2 id="lsattr"><code class="highlighter-rouge">lsattr</code></h2>

<p><strong>显示文件隐藏属性</strong></p>

<p>[root@www ~]#  <code class="highlighter-rouge">lsattr [-adR]</code> 文件或目录</p>

<p>选项与参数：</p>

<p><code class="highlighter-rouge">-a</code> ：将隐藏档的属性也秀出来；</p>

<p><code class="highlighter-rouge">-d</code> ：如果接的是目录，仅列出目录本身的属性而非目录内的档名；</p>

<p><code class="highlighter-rouge">-R</code> ：连同子目录的数据也一并列出来！</p>

<hr />

<h2 id="umask"><code class="highlighter-rouge">umask</code></h2>

<p><strong>被排除的权限默认值</strong></p>

<p><em>目前使用者在创建文件或目录时候的被排除的权限默认值</em></p>

<p>[root@www ~]#  <code class="highlighter-rouge">umask</code>      显示<code class="highlighter-rouge">数字</code>型态的权限配置分数</p>

<p>0022          &lt;==与一般权限有关的是后面三个数字，表示在777中被排除的权限，即该目录中新增文件或目录的默认权限为755，又因为新增文件默认不具有x权限，所以该目录中新增目录的默认权限为755，文件的默认权限为644</p>

<p>[root@www ~]#  <code class="highlighter-rouge">umask -S</code>    以<code class="highlighter-rouge">符号</code>类型的方式来显示出权限</p>

<p>u=rwx,g=rx,o=rx</p>

<p>[root@www ~]#  <code class="highlighter-rouge">umask 002</code>  <code class="highlighter-rouge">指定</code>权限配置分数</p>

<p><code class="highlighter-rouge">!</code> 异或运算可排除权限</p>

<hr />

<h2 id="文件特殊权限">文件特殊权限</h2>

<p><strong><code class="highlighter-rouge">SUID</code></strong></p>

<blockquote>
  <p><code class="highlighter-rouge">1</code> SUID 权限仅对二进位程序(binary program)有效；(对目录无效)</p>
</blockquote>

<blockquote>
  <p><code class="highlighter-rouge">2</code> 运行者对於该程序需要具有 x 权限；</p>
</blockquote>

<blockquote>
  <p><code class="highlighter-rouge">3</code> 运行者将具有该程序拥有者 (owner) 的权限，该权限仅在运行该程序的过程中有效 (run-time)</p>
</blockquote>

<blockquote>
  <p>例如：/etc/shadow只有root能够访问，但是普通用户对于passwd有s权限，passwd的owner是root，所以普通用户可以在运行passwd时暂时获得root权限对/etc/shadow进行操作。</p>
</blockquote>

<p><code class="highlighter-rouge">!</code> SUID权限指的是文件权限中owner部分x权限的特殊版</p>

<p><code class="highlighter-rouge">! chmod 4---</code> 可以赋予SUID权限，所属用户的x位将变成s, 若不具备x权限，s将变成S</p>

<p><strong><code class="highlighter-rouge">SGID</code></strong></p>

<p><em>当为文件时</em></p>

<blockquote>
  <p><code class="highlighter-rouge">1</code> SGID 仅对二进位程序有用；</p>

  <p><code class="highlighter-rouge">2</code> 运行者对於该程序需具有x 权限；</p>

  <p><code class="highlighter-rouge">3</code> 运行者在运行的过程中将会获得该程序群组（group）的权限,该权限仅在运行该程序的过程中有效 (run-time) — 基本同SUID</p>
</blockquote>

<p><em>当为目录时</em></p>

<blockquote>
  <p><code class="highlighter-rouge">1</code> 使用者若对於此目录具有 r 与 x 的权限时，该使用者能够进入此目录；</p>

  <p><code class="highlighter-rouge">2</code> 使用者在此目录下的有效群组(effective group)将会变成该目录所属的群组；用途：若使用者在此目录下具有 w 的权限(可以新建文件)，则使用者所创建的新文件的群组与此目录所属的群组相同。</p>
</blockquote>

<p><code class="highlighter-rouge">!</code> SGID权限指的是文件或目录权限中group部分x权限的特殊版
<code class="highlighter-rouge">! chmod 2---</code> 可以赋予SGID权限，所属组的x位将变成s, 若不具备x权限，s将变成S</p>

<p><strong><code class="highlighter-rouge">SBIT</code></strong></p>

<p>·SBIT权限仅对目录有效；（对文件无效）</p>

<p>·使用者对於此目录需要具有 w, x 权限；</p>

<p>·当使用者在该目录下创建文件或目录时，仅有自己与 root 才有权力删除该文件</p>

<p><code class="highlighter-rouge">! chmod 1---</code> 可以赋予SBIT权限，其他的x位将变成t</p>


      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            
            <a href="/tag/#/Linux" rel="tag"># Linux</a>
          
            
            <a href="/tag/#/%E5%91%BD%E4%BB%A4" rel="tag"># 命令</a>
          
        </div>
      

      
      
      
      
      

      
      
        <div class="post-nav" id="post-nav-id">
          <div class="post-nav-next post-nav-item">
            
              <a href="/blog-gh-pages/linux/2014/02/13/linux-ps/" rel="next" title="Linux进程管理">
                <i class="fa fa-chevron-left"></i> Linux进程管理
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/blog-gh-pages/linux/2014/01/25/linux-filecmd/" rel="prev" title="Linux目录与文件">
                Linux目录与文件 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      
      

      
    </footer>
  </article>

  <div class="post-spread">
    
  </div>
</div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          

  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      
        
        
        







      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/assets/images/avatar.gif"
               alt="MORE" />
          <p class="site-author-name" itemprop="name">MORE</p>
           
              <p class="site-description motion-element" itemprop="description">MORE技术分享，记录每天的进步！</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">54</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/">
                <span class="site-state-item-count">16</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/">
                <span class="site-state-item-count">64</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
        
        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            








            
              <div class="post-toc-content">
    <ol class=nav>
      <li class="nav-item nav-level-2"> <a class="nav-link" href="#chmod"> <span class="nav-number">1</span> <span class="nav-text">chmod</code</span> </a> </li> <li class="nav-item nav-level-2"> <a class="nav-link" href="#chgrp-"> <span class="nav-number">2</span> <span class="nav-text">chgrp </code</span> </a> </li> <li class="nav-item nav-level-2"> <a class="nav-link" href="#chown"> <span class="nav-number">3</span> <span class="nav-text">chown</code</span> </a> </li> <li class="nav-item nav-level-2"> <a class="nav-link" href="#chattr"> <span class="nav-number">4</span> <span class="nav-text">chattr</code</span> </a> </li> <li class="nav-item nav-level-2"> <a class="nav-link" href="#lsattr"> <span class="nav-number">5</span> <span class="nav-text">lsattr</code</span> </a> </li> <li class="nav-item nav-level-2"> <a class="nav-link" href="#umask"> <span class="nav-number">6</span> <span class="nav-text">umask</code</span> </a> </li> <li class="nav-item nav-level-2"> <a class="nav-link" href="#文件特殊权限"> <span class="nav-number">7</span> <span class="nav-text">文件特殊权限</span> </a> </li>
    </ol>
  </div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>

        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  
  &copy; 
  <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">MORE</span>
</div>



        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>





















  
   
  
  
  
  
  
  <script type="text/javascript" src="/assets/lib/jquery/index.js?v=2.1.3"></script>

  
  
  
  
  
  <script type="text/javascript" src="/assets/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  
  
  
  
  <script type="text/javascript" src="/assets/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  
  
  
  
  <script type="text/javascript" src="/assets/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  
  
  
  
  <script type="text/javascript" src="/assets/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  
  
  
  
  <script type="text/javascript" src="/assets/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/assets/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/assets/js/src/motion.js?v=5.1.1"></script>



  
  

  <script type="text/javascript" src="/assets/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/assets/js/src/post-details.js?v=5.1.1"></script>


  


  <script type="text/javascript" src="/assets/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  











  




  

    

  







  






  

  

  
  


  

  

  

</body>
</html>

